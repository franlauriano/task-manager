name: Create Task API Test - Success (Edge Cases)
version: "1.0"
testcases:
  - name: Create task - Success (with long title and description)
    steps:
      - type: http
        method: POST
        url: "{{.base_url}}/api/tasks"
        headers:
          Content-Type: "application/json"
          Accept: "application/json"
        body: |
          {
            "title": "This is a very long task title that contains multiple words and should still be accepted by the system",
            "description": "This is a very detailed description of the task that explains what needs to be done, how it should be done, and what the expected outcome is. It can contain multiple sentences and paragraphs."
          }
        assertions:
          - result.statuscode ShouldEqual 200
          - result.bodyjson ShouldNotBeNil
          - result.bodyjson ShouldContainKey "uuid"
          - result.bodyjson ShouldContainKey "title"
          - result.bodyjson ShouldContainKey "description"
          - result.bodyjson ShouldContainKey "status"
          - result.bodyjson.status ShouldEqual "to_do"
          - result.bodyjson ShouldContainKey "created_at"
          - result.bodyjson ShouldContainKey "updated_at"

  - name: Create task - Success (with minimal title and description)
    steps:
      - type: http
        method: POST
        url: "{{.base_url}}/api/tasks"
        headers:
          Content-Type: "application/json"
          Accept: "application/json"
        body: |
          {
            "title": "A",
            "description": "B"
          }
        assertions:
          - result.statuscode ShouldEqual 200
          - result.bodyjson ShouldNotBeNil
          - result.bodyjson ShouldContainKey "uuid"
          - result.bodyjson.title ShouldEqual "A"
          - result.bodyjson.description ShouldEqual "B"
          - result.bodyjson ShouldContainKey "status"
          - result.bodyjson ShouldContainKey "created_at"
          - result.bodyjson ShouldContainKey "updated_at"

  - name: Create task - Success (with title exactly 255 characters)
    steps:
      - type: http
        method: POST
        url: "{{.base_url}}/api/tasks"
        headers:
          Content-Type: "application/json"
          Accept: "application/json"
        body: |
          {
            "title": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
            "description": "Valid description"
          }
        assertions:
          - result.statuscode ShouldEqual 200
          - result.bodyjson ShouldNotBeNil
          - result.bodyjson ShouldContainKey "uuid"
          - result.bodyjson ShouldContainKey "title"
          - result.bodyjson.title ShouldEqual "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
          - result.bodyjson ShouldContainKey "description"
          - result.bodyjson ShouldContainKey "status"
          - result.bodyjson.status ShouldEqual "to_do"
          - result.bodyjson ShouldContainKey "created_at"
          - result.bodyjson ShouldContainKey "updated_at"
